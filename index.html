<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daftar Stok Real-Time</title>
    <style>
        /* CSS untuk tampilan minimalis */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f4f7f9;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            padding: 20px;
        }

        .container {
            width: 100%;
            max-width: 800px;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.05);
            text-align: center;
        }

        h1 {
            color: #1a202c;
            margin-bottom: 25px;
            font-weight: 700;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }

        thead {
            background-color: #edf2f7;
        }

        th {
            font-weight: 600;
            color: #4a5568;
            text-transform: uppercase;
            font-size: 12px;
        }

        tbody tr:hover {
            background-color: #f9fafb;
        }

        td {
            font-size: 14px;
        }

        /* Styling untuk status pesan */
        #status-message {
            margin-top: 20px;
            color: #718096;
            font-style: italic;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>ðŸ“Š Daftar Stok Produk (Real-Time)</h1>
        
        <table id="stock-table">
            <thead>
                <tr>
                    <th>KODE PRODUK</th>
                    <th>SISA STOK</th>
                </tr>
            </thead>
            <tbody id="stock-table-body">
                </tbody>
        </table>

        <p id="status-message">Memuat data dari Supabase...</p>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

<script>
    function _0x33e4(_0x1ac4cd,_0x32f807){const _0x12c1f4=_0x12c1();return _0x33e4=function(_0x33e4ee,_0x348794){_0x33e4ee=_0x33e4ee-0x10f;let _0x27b70d=_0x12c1f4[_0x33e4ee];return _0x27b70d;},_0x33e4(_0x1ac4cd,_0x32f807);}const _0x5ad629=_0x33e4;(function(_0x57b601,_0x1fb800){const _0x3a39ce=_0x33e4,_0x5ae4fb=_0x57b601();while(!![]){try{const _0x469db8=-parseInt(_0x3a39ce(0x125))/0x1*(parseInt(_0x3a39ce(0x13f))/0x2)+parseInt(_0x3a39ce(0x13e))/0x3*(-parseInt(_0x3a39ce(0x119))/0x4)+-parseInt(_0x3a39ce(0x11a))/0x5+-parseInt(_0x3a39ce(0x134))/0x6+parseInt(_0x3a39ce(0x147))/0x7*(-parseInt(_0x3a39ce(0x11b))/0x8)+parseInt(_0x3a39ce(0x143))/0x9+parseInt(_0x3a39ce(0x121))/0xa*(parseInt(_0x3a39ce(0x11e))/0xb);if(_0x469db8===_0x1fb800)break;else _0x5ae4fb['push'](_0x5ae4fb['shift']());}catch(_0x4b4d76){_0x5ae4fb['push'](_0x5ae4fb['shift']());}}}(_0x12c1,0xcdc72));function _0x12c1(){const _0xe924df=['getElementById','createClient','error','textContent','BPAL9','SUBSCRIBED','4959993drlYgY','1494cIuGvF','BPAL11','BPAL7','appendChild','7818381JICwug','Error\x20mengambil\x20data\x20stok:','log','BPAL17','49mljwIv','message','N/A','BPAL1','status-message','XLA51','from','subscribe','Tidak\x20ada\x20data\x20stok\x20ditemukan.\x20Pastikan\x20data\x20sudah\x20diisi\x20dan\x20RLS\x20(Row\x20Level\x20Security)\x20tidak\x20memblokir.','CHANNEL_ERROR','length','4OfcPPR','2887500GSTCyB','1744216bDEOJM','kode_produk','select','33xWVILY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>N/A</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','XLA89','19772230BvJpzz','realtime:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','https://bsexdtzpasauonjpbbrh.supabase.co','1671smaFsD','XLA39','BPAL3','BPAL13','Perubahan\x20terdeteksi:','forEach','Data\x20berhasil\x20diperbarui.','innerHTML','XLA14','createElement','map','BPAL5','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','5713530hZbUip','stock-table-body','products','.\x20Cek\x20koneksi\x20atau\x20konfigurasi\x20Supabase\x20Anda.'];_0x12c1=function(){return _0xe924df;};return _0x12c1();}const SUPABASE_URL=_0x5ad629(0x124),SUPABASE_ANON_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzZXhkdHpwYXNhdW9uanBiYnJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0Mjk2MzgsImV4cCI6MjA3NTAwNTYzOH0.E184tfMBjmue6RaVFoKJASH0HvewPEWN7DuxaDaqrzQ',NAMA_TABEL=_0x5ad629(0x136),KOLOM_KODE_PRODUK=_0x5ad629(0x11c),KOLOM_SISA_STOK='sisa_stok',supabaseClient=supabase[_0x5ad629(0x139)](SUPABASE_URL,SUPABASE_ANON_KEY),tableBody=document[_0x5ad629(0x138)](_0x5ad629(0x135)),statusMessage=document[_0x5ad629(0x138)](_0x5ad629(0x112)),productCodes=[_0x5ad629(0x111),_0x5ad629(0x127),_0x5ad629(0x130),_0x5ad629(0x141),_0x5ad629(0x13c),_0x5ad629(0x140),_0x5ad629(0x128),'BPAL15',_0x5ad629(0x146),'BPAL19',_0x5ad629(0x12d),'XLA32',_0x5ad629(0x126),_0x5ad629(0x113),'XLA65',_0x5ad629(0x120)];async function fetchStockData(){const _0x40ab6f=_0x5ad629;try{const {data:_0x42e68f,error:_0x5603f4}=await supabaseClient[_0x40ab6f(0x114)](NAMA_TABEL)[_0x40ab6f(0x11d)](KOLOM_KODE_PRODUK+',\x20'+KOLOM_SISA_STOK)['in'](KOLOM_KODE_PRODUK,productCodes);if(_0x5603f4)throw _0x5603f4;tableBody[_0x40ab6f(0x12c)]='';if(_0x42e68f&&_0x42e68f[_0x40ab6f(0x118)]>0x0){const _0x506da0=new Map(_0x42e68f[_0x40ab6f(0x12f)](_0x3d5fc2=>[_0x3d5fc2[KOLOM_KODE_PRODUK],_0x3d5fc2[KOLOM_SISA_STOK]]));productCodes[_0x40ab6f(0x12a)](_0x5b8e97=>{const _0x126cb6=_0x40ab6f,_0x4f4def=document['createElement']('tr'),_0x1b8376=_0x506da0[_0x126cb6(0x133)](_0x5b8e97);_0x4f4def[_0x126cb6(0x12c)]=_0x126cb6(0x123)+_0x5b8e97+_0x126cb6(0x131)+(_0x1b8376!==undefined?_0x1b8376:_0x126cb6(0x110))+_0x126cb6(0x132),tableBody[_0x126cb6(0x142)](_0x4f4def);}),statusMessage['textContent']=_0x40ab6f(0x12b);}else productCodes[_0x40ab6f(0x12a)](_0x71196a=>{const _0x4ffc65=_0x40ab6f,_0x2b6870=document[_0x4ffc65(0x12e)]('tr');_0x2b6870[_0x4ffc65(0x12c)]=_0x4ffc65(0x123)+_0x71196a+_0x4ffc65(0x11f),tableBody[_0x4ffc65(0x142)](_0x2b6870);}),statusMessage[_0x40ab6f(0x13b)]=_0x40ab6f(0x116);}catch(_0x520a09){console[_0x40ab6f(0x13a)](_0x40ab6f(0x144),_0x520a09['message']),statusMessage['textContent']='Error:\x20'+_0x520a09[_0x40ab6f(0x10f)]+_0x40ab6f(0x137);}}function subscribeToStockChanges(){const _0x1f59cb=_0x5ad629,_0x5bd9f7=supabaseClient['channel'](_0x1f59cb(0x122)+NAMA_TABEL)['on']('postgres_changes',{'event':'*','schema':'public','table':NAMA_TABEL},_0x3f5abc=>{const _0x48e17f=_0x1f59cb;console[_0x48e17f(0x145)](_0x48e17f(0x129),_0x3f5abc),fetchStockData();})[_0x1f59cb(0x115)](_0x4f8167=>{const _0x250b44=_0x1f59cb;if(_0x4f8167===_0x250b44(0x13d))console['log']('Berhasil\x20terhubung\x20ke\x20fitur\x20real-time\x20Supabase!');else _0x4f8167===_0x250b44(0x117)&&console['error']('Koneksi\x20real-time\x20gagal.');});}fetchStockData(),subscribeToStockChanges();function _0x33e4(_0x1ac4cd,_0x32f807){const _0x12c1f4=_0x12c1();return _0x33e4=function(_0x33e4ee,_0x348794){_0x33e4ee=_0x33e4ee-0x10f;let _0x27b70d=_0x12c1f4[_0x33e4ee];return _0x27b70d;},_0x33e4(_0x1ac4cd,_0x32f807);}const _0x5ad629=_0x33e4;(function(_0x57b601,_0x1fb800){const _0x3a39ce=_0x33e4,_0x5ae4fb=_0x57b601();while(!![]){try{const _0x469db8=-parseInt(_0x3a39ce(0x125))/0x1*(parseInt(_0x3a39ce(0x13f))/0x2)+parseInt(_0x3a39ce(0x13e))/0x3*(-parseInt(_0x3a39ce(0x119))/0x4)+-parseInt(_0x3a39ce(0x11a))/0x5+-parseInt(_0x3a39ce(0x134))/0x6+parseInt(_0x3a39ce(0x147))/0x7*(-parseInt(_0x3a39ce(0x11b))/0x8)+parseInt(_0x3a39ce(0x143))/0x9+parseInt(_0x3a39ce(0x121))/0xa*(parseInt(_0x3a39ce(0x11e))/0xb);if(_0x469db8===_0x1fb800)break;else _0x5ae4fb['push'](_0x5ae4fb['shift']());}catch(_0x4b4d76){_0x5ae4fb['push'](_0x5ae4fb['shift']());}}}(_0x12c1,0xcdc72));function _0x12c1(){const _0xe924df=['getElementById','createClient','error','textContent','BPAL9','SUBSCRIBED','4959993drlYgY','1494cIuGvF','BPAL11','BPAL7','appendChild','7818381JICwug','Error\x20mengambil\x20data\x20stok:','log','BPAL17','49mljwIv','message','N/A','BPAL1','status-message','XLA51','from','subscribe','Tidak\x20ada\x20data\x20stok\x20ditemukan.\x20Pastikan\x20data\x20sudah\x20diisi\x20dan\x20RLS\x20(Row\x20Level\x20Security)\x20tidak\x20memblokir.','CHANNEL_ERROR','length','4OfcPPR','2887500GSTCyB','1744216bDEOJM','kode_produk','select','33xWVILY','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>N/A</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','XLA89','19772230BvJpzz','realtime:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','https://bsexdtzpasauonjpbbrh.supabase.co','1671smaFsD','XLA39','BPAL3','BPAL13','Perubahan\x20terdeteksi:','forEach','Data\x20berhasil\x20diperbarui.','innerHTML','XLA14','createElement','map','BPAL5','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','get','5713530hZbUip','stock-table-body','products','.\x20Cek\x20koneksi\x20atau\x20konfigurasi\x20Supabase\x20Anda.'];_0x12c1=function(){return _0xe924df;};return _0x12c1();}const SUPABASE_URL=_0x5ad629(0x124),SUPABASE_ANON_KEY='eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJzZXhkdHpwYXNhdW9uanBiYnJoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk0Mjk2MzgsImV4cCI6MjA3NTAwNTYzOH0.E184tfMBjmue6RaVFoKJASH0HvewPEWN7DuxaDaqrzQ',NAMA_TABEL=_0x5ad629(0x136),KOLOM_KODE_PRODUK=_0x5ad629(0x11c),KOLOM_SISA_STOK='sisa_stok',supabaseClient=supabase[_0x5ad629(0x139)](SUPABASE_URL,SUPABASE_ANON_KEY),tableBody=document[_0x5ad629(0x138)](_0x5ad629(0x135)),statusMessage=document[_0x5ad629(0x138)](_0x5ad629(0x112)),productCodes=[_0x5ad629(0x111),_0x5ad629(0x127),_0x5ad629(0x130),_0x5ad629(0x141),_0x5ad629(0x13c),_0x5ad629(0x140),_0x5ad629(0x128),'BPAL15',_0x5ad629(0x146),'BPAL19',_0x5ad629(0x12d),'XLA32',_0x5ad629(0x126),_0x5ad629(0x113),'XLA65',_0x5ad629(0x120)];async function fetchStockData(){const _0x40ab6f=_0x5ad629;try{const {data:_0x42e68f,error:_0x5603f4}=await supabaseClient[_0x40ab6f(0x114)](NAMA_TABEL)[_0x40ab6f(0x11d)](KOLOM_KODE_PRODUK+',\x20'+KOLOM_SISA_STOK)['in'](KOLOM_KODE_PRODUK,productCodes);if(_0x5603f4)throw _0x5603f4;tableBody[_0x40ab6f(0x12c)]='';if(_0x42e68f&&_0x42e68f[_0x40ab6f(0x118)]>0x0){const _0x506da0=new Map(_0x42e68f[_0x40ab6f(0x12f)](_0x3d5fc2=>[_0x3d5fc2[KOLOM_KODE_PRODUK],_0x3d5fc2[KOLOM_SISA_STOK]]));productCodes[_0x40ab6f(0x12a)](_0x5b8e97=>{const _0x126cb6=_0x40ab6f,_0x4f4def=document['createElement']('tr'),_0x1b8376=_0x506da0[_0x126cb6(0x133)](_0x5b8e97);_0x4f4def[_0x126cb6(0x12c)]=_0x126cb6(0x123)+_0x5b8e97+_0x126cb6(0x131)+(_0x1b8376!==undefined?_0x1b8376:_0x126cb6(0x110))+_0x126cb6(0x132),tableBody[_0x126cb6(0x142)](_0x4f4def);}),statusMessage['textContent']=_0x40ab6f(0x12b);}else productCodes[_0x40ab6f(0x12a)](_0x71196a=>{const _0x4ffc65=_0x40ab6f,_0x2b6870=document[_0x4ffc65(0x12e)]('tr');_0x2b6870[_0x4ffc65(0x12c)]=_0x4ffc65(0x123)+_0x71196a+_0x4ffc65(0x11f),tableBody[_0x4ffc65(0x142)](_0x2b6870);}),statusMessage[_0x40ab6f(0x13b)]=_0x40ab6f(0x116);}catch(_0x520a09){console[_0x40ab6f(0x13a)](_0x40ab6f(0x144),_0x520a09['message']),statusMessage['textContent']='Error:\x20'+_0x520a09[_0x40ab6f(0x10f)]+_0x40ab6f(0x137);}}function subscribeToStockChanges(){const _0x1f59cb=_0x5ad629,_0x5bd9f7=supabaseClient['channel'](_0x1f59cb(0x122)+NAMA_TABEL)['on']('postgres_changes',{'event':'*','schema':'public','table':NAMA_TABEL},_0x3f5abc=>{const _0x48e17f=_0x1f59cb;console[_0x48e17f(0x145)](_0x48e17f(0x129),_0x3f5abc),fetchStockData();})[_0x1f59cb(0x115)](_0x4f8167=>{const _0x250b44=_0x1f59cb;if(_0x4f8167===_0x250b44(0x13d))console['log']('Berhasil\x20terhubung\x20ke\x20fitur\x20real-time\x20Supabase!');else _0x4f8167===_0x250b44(0x117)&&console['error']('Koneksi\x20real-time\x20gagal.');});}fetchStockData(),subscribeToStockChanges();

</script>

</body>
</html>
